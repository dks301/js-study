<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>랜덤 강아지</title>
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <div class="container">
      <h2>대신 귀여운 강아지를 드립니다.</h2>
      <form>
        <button type="submit" id="fetch-button">강아지를 주세요</button>
      </form>
      <img id="dog-image" src="dog.jpg" alt="dog">
    </div>

    <script>
      function DogApp() {
        const url = "https://dog.ceo/api/breeds/image/random";
        const $button = document.querySelector("#fetch-button");
        const $image = document.querySelector("#dog-image");

        $button.addEventListener("click", event => this.changeDogImage(event));

        this.changeDogImage = (event) => {
          event.preventDefault();
          fetch(url)
                  .then(response => response.json())
                  .then(item => {
                    $image.src = item.message;
                  });
        }
      }

      DogApp();
    </script>
  </body>
</html>
